= Create Session Token

include::plantuml/endpoint-mappings-session-createtoken-sequence.puml[]

GGO: `/v1.0/session/createtoken` +
Lithium: N/A

NOTE: Implemented in link:https://gitlab.com/playsafe/lithium/app-lithium-full/-/blob/develop/service-casino/service-casino-provider-iforium/src/main/java/lithium/service/casino/provider/iforium/controller/SessionController.java[lithium.service.casino.provider.iforium.controller.SessionController]

The purpose of this endpoint is to create a session based on a provided `OperatorAccountID` and deliver a corresponding, short-lived `sessionToken` that can be used to redeem the associated `sessionKey`.

== Request

[options="header", cols="^.<20m,.<30,.<10,.<20m,.<20e"]
|===
|GGO Parameter|Description|Type|Lithium Parameter|Comments

| Authorization +
_(header)_
| Basic Auth.
| String
| N/A
| Basic YWNtZTphY21lc2VjcmV0

| PlatformKey +
_(body)_
| The platform key associated with the caller.
| String(4)
|
| Validate against config

| Sequence +
_(body)_
| A unique sequence number generated by the Gameflex Operator Wallet API integration.
| String(50) 
| 
| Ignore

| Timestamp +
_(body)_
| A UTC Timestamp for the request.
| Date
| 
| Ignore

| OperatorAccountID +
_(body)_
| Unique identifier for the Player in the Operator Platform.
| String(50) 
| 
| Create/register if necessary

| GameID +
_(body)_
| Unique identifier of the initial Game the Session Token is being created for.
| String(50)
|
| Ignore

|===

.Example Request:
[source,json]
----
{
    PlatformKey: "L100",
    Sequence: "f82f441f-a20f-4244-b760-35d2d05705d7",
    Timestamp: "2020-09-14T13:21:49.9546136Z",
    OperatorAccountID: "TestOperatorAccountID",
    GameID: "11588"
}
----

== Response

[options="header", cols="^.<20m,.<30,.<10,.<20m,.<20e"]
|===
|GGO Parameter|Description|Type|Lithium Parameter|Comments

| ErrorCode
| Error Code.
| Integer
| N/A
| [0, -1, -5, -6]

| SessionToken
| Unique Session Token supplied by the Operator. The Session Token should be single use only for security.
| String(50)
| SessionKey
| Not single-use.

|===

.Example Response:
[source,json]
----
{
    ErrorCode: 0,
    Result: {
        SessionToken: "89c02243-4dcb-459a-8aa4-261845964ff4"
    }
}
----

:leveloffset: +1
include::miscellaneous-wraptoken.adoc[]
:leveloffset: -1