.Place Bet Sequence
[plantuml]
----
@startuml

    box "iForium" #LightGreen
       participant "Generic Operator Wallet API" as ggo
    end box

    box "Lithium" #LightBlue
'        participant "Games Service" as games

'        participant "SignupService" as signup
        participant "iForium Casino Provider" as provider
        participant "LoginEventService" as login
        participant "Config Service" as config

'        participant "iForium Balance Service" as balance
'        participant "Config Service" as config
'        participant "Domain Service" as domain
'        participant "User Repository" as user
        participant "CasinoClientService" as casino
    end box



    skinparam handwritten false
    skinparam backgroundColor transparent
    skinparam roundcorner 10
    skinparam BoxPadding 20

    skinparam sequence {

        ArrowColor 3292b4
        ArrowThickness 2

        LifeLineBorderColor 3292b4
        LifeLineBackgroundColor #3292b4

        ParticipantBorderColor 3292b4
        ParticipantBackgroundColor 3292b4
        ParticipantFontName Arial
        ParticipantFontSize 17
        ParticipantFontColor white

        ActorBorderColor 3292b4
        ActorBackgroundColor aqua
        ActorFontColor 3292b4
        ActorFontSize 17
        ActorFontName Arial
    }

    ggo ->> provider ++: /v1.0/gameround/placebet ( OperatorAccountId )

    note right of provider: Domain extracted from OperatorAccountID
    provider ->> config ++: getConfig(Domain)
    config -->> provider --: IPWhitelist
    alt IP not found
        provider -->> ggo : 403 Access Denied
    else IP found

        provider ->> login ++ : loginEventForSessionKey(sessionKey)
        login -->> provider -- : LoginEvent
        alt Session Does Not Exist

            provider -->> ggo : "-3 Session Not Found"

        else Session Exists

            provider ->> provider: Validate Session
            note right of provider: Compare **OperatorAccountId** and **Currency**

            alt Session Invalid (Comparison fails)
                provider -->> ggo : "-3 Session Not Found"
            else Session Valid

                provider ->> provider : Create BalanceAdjustmentRequest
                provider ->> casino ++: multiBetV1 (BalanceAdjustmentRequest[setRoundFinished=true|false])
                casino -->> provider -- :
                provider -->> ggo --:

            end
        end
    end
@enduml
----