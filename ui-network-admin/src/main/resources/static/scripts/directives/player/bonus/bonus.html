<div class="box box-{{data.box}} box-solid bs-loading-container" bs-loading-overlay bs-loading-overlay-reference-id="{{referenceId}}">
	<div class="box-header with-border">
		{{data.title | translate}}
		<div class="box-tools pull-right">
			<button type="button" class="btn btn-box-tool" lit-if-permission="MANUAL_BONUS_ALLOCATION" ng-click="registerBonus()">
				<i class="fa fa-plus"></i> register
			</button>
			<button type="button" class="btn btn-box-tool" ng-click="cancel()" ng-if="!data.displayOnly">
				<i class="fa fa-ban"></i> cancel
			</button>
			<button type="button" class="btn btn-box-tool" ng-click="refresh()">
				<i class="fa fa-refresh"></i> refresh
			</button>
			<button type="button" class="btn btn-box-tool" ng-click="adjust()" ng-if="!data.displayOnly" lit-if-permission="PLAYER_BALANCE_ADJUST" lit-permission-domain="{{data.domainName}}">
				<i class="fa fa-adjust"></i> adjust
			</button>
		</div>
	</div>
	<div class="box-body">
		<div ng-if="!playerBonus.playerBonusProjection" class="box box-danger ng-scope">
			<div class="box-body ng-binding">
				No active bonus found for player.
			</div>
		</div>
		<table class="table table-striped" ng-if="playerBonus.playerBonusProjection">
		<tbody>
		<tr class="bg-gray disabled color-palette">
			<th style="vertical-align: middle;">{{'GLOBAL.FIELDS.BALANCE' | translate}}</th>
			<td class="pull-right" style="vertical-align: text-bottom;">
				<span>{{balance | cents : symbol : franctionSize}}</span>
				<button type="button" class="btn btn-box-tool" ng-click="refreshBalance()">
					<i class="fa fa-refresh"></i>
				</button>
			</td>
		</tr><tr>
			<th>Code</th>
			<td class="pull-right">{{playerBonus.playerBonusProjection.current.bonus.bonusCode}}</td>
		</tr><tr>
			<th>Name</th>
			<td class="pull-right">{{playerBonus.playerBonusProjection.current.bonus.bonusName}}</td>
		</tr><tr>
			<th>Play Through</th>
			<td class="pull-right">{{(playerBonus.playerBonusProjection.current.playThroughCents/100) | cents : symbol : franctionSize }}/{{(playerBonus.playerBonusProjection.current.playThroughRequiredCents / 100) | cents : symbol : franctionSize }}</td>
		</tr><tr>
			<th>Started Date</th>
			<td class="pull-right">{{playerBonus.playerBonusProjection.current.startedDate | date:'medium':'GMT' }}</td>
		</tr><tr>
			<th>End Date</th>
			<td class="pull-right">{{endDate | date:'medium':'GMT' }}</td>
		</tr><tr ng-if="playerBonus.playerBonusFreespinHistoryProjection.extBonusId">
			<th>Freespins</th>
			<td class="pull-right">{{playerBonus.playerBonusFreespinHistoryProjection.freespinsRemaining}}/{{playerBonus.playerBonusFreespinHistoryProjection.bonusRulesFreespins.freespins}}</td>
		</tr><tr ng-if="playerBonus.playerBonusFreespinHistoryProjection.extBonusId">
			<th>Ext Bonus Id</th>
			<td class="pull-right">{{playerBonus.playerBonusFreespinHistoryProjection.extBonusId}}</td>
		</tr>
		</tbody>
		</table>
	</div>
</div>
