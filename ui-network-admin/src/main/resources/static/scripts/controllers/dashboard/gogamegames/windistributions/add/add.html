<div class="container-fluid">
	<lit-header
		title="GoGame Game Win Distribution Add"
		description="Use the controls below to set up a Win Distribution Test">
	</lit-header>

	<form ng-submit="controller.onSubmit()" name="controller.form" autocomplete="off" novalidate>
		<buttonbar>
			<button-back ui-sref="dashboard.gogamegames.windistributions"></button-back>
			<button-submit></button-submit>
		</buttonbar>

		<br/><br/>

		<div class="row v-reset-row ">
			<div class="col-xs-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<i class="fa fa-sliders"></i> Win Distribution Test Configuration
					</div>
					<div class="panel-body">
						<div class="row v-reset-row ">
							<div class="col-lg-12">
								<formly-form model="controller.model" fields="controller.fields" options="controller.options" form="controller.form">
								</formly-form>
							</div>
						</div>
						<div class="row v-reset-row ">
							<div class="col-lg-12">
								<div class="panel panel-default">
									<div class="panel-heading">
										<i class="fa fa-table"></i> <b>Buckets</b>
										<div class="btn-group pull-right">
											<button type="button" class="btn btn-box-tool" ng-click="controller.addBucket()">
												<span><i class="fa fa-plus"></i> {{'GLOBAL.ACTION.ADD'|translate}}</span>
											</button>
										</div>
									</div>
									<div class="panel-body table-responsive">
										<table class="table table-hover table-striped nowrap" cellspacing="0" width="100%">
											<thead ng-if="controller.model.buckets.length > 0">
											<tr>
												<th style="width: 40%;">Comparison Operator</th>
												<th>Bet/Total Play Multiplier</th>
												<th></th>
											</tr>
											</thead>
											<tbody>
											<tr ng-repeat="bucket in controller.model.buckets track by $index">
												<td>{{controller.findOperatorById(bucket.comparatorId)}}</td>
												<td>{{bucket.multiplier}}</td>
												<td>
													<a class="pull-right" style="padding-left: 10px;" ng-click="controller.removeBucket($index)">
														<span class="badge bg-red"><i class="fa fa-times"></i></span>
													</a>
													<a class="pull-right" ng-click="controller.addBucket(bucket, $index)">
														<span class="badge bg-blue"><i class="fa fa-cog"></i></span>
													</a>
												</td>
											</tr>
											<tr ng-if="controller.model.buckets.length === 0">
												<td colspan="3">No buckets configured yet.</td>
											</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>

<!-- 	<pre>{{controller.model|json}}</pre>-->
</div>