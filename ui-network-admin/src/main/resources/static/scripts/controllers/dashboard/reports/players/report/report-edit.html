<div class="container-fluid">
	<lit-header
		title="UI_NETWORK_ADMIN.REPORTS.PLAYERS.EDIT.TITLE" 
		description="UI_NETWORK_ADMIN.REPORTS.PLAYERS.REPORT.DESCRIPTION">
	</lit-header>
	
	<form ng-submit="controller.onSubmit()" name="controller.form" novalidate>
		<buttonbar>
			<button-back ui-sref="^.report({ reportId: controller.report.id })"></button-back>
			<button-custom btype="submit" bclass="primary submit-button" icon="floppy-o" text="Commit all changes"></button-custom>
			<button-custom btype="button" ng-click="controller.onContinue()" bclass="default" icon="clock-o" text="Continue later with this edit"></button-custom>
			<button-custom btype="button" ng-click="controller.onCancel()" bclass="default" icon="ban" text="Cancel edit"></button-custom>
		</buttonbar>
		<br/><br/>
		<div class="row v-reset-row ">
			<div class="col-xs-6">
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.GENERAL.REPORTDETAILS' | translate }}</h3>
					</div>
					<div class="box-body">
						<formly-form model="controller.model" fields="controller.fields" options="controller.options" form="controller.form">
						</formly-form>
						<div class="callout callout-info" ng-if="controller.model.prettyCron">
							<span>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.GENERAL.REPORTRUNAT' | translate: { prettyCron: controller.model.prettyCron } }}</span>
						</div>
					</div>
				</div>
								<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.FILTERS.TITLE' | translate }}</h3>
						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool" ng-click="controller.addFilterModal()">
								<span><i class="fa fa-plus"></i> {{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.FILTERS.ADD' | translate }} </span>
							</button>
						</div>
					</div>
					<div class="box-body table-responsive">
						<table class="table table-hover table-striped nowrap" cellspacing="0" width="100%">
							<thead>
								<tr>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.FILTERS.TABLE.FIELD' | translate }}</th>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.FILTERS.TABLE.OPERATOR' | translate }}</th>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.FILTERS.TABLE.VALUE' | translate }}</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="filter in controller.model.filters">
									<td>{{ filter.field }}</td>
									<td>{{ filter.operator }}</td>
									<td>{{ filter.value }}</td>
									<td>
										<a ng-click="controller.removeFilter(filter)">
											<span class="pull-right badge bg-red"><i class="fa fa-times"></i></span>
										</a>
									</td>
								</tr>
								<tr ng-if="controller.model.filters.length === 0">
									<td colspan="4">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.FILTERS.TABLE.NOFILTERSADDED' | translate }}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TITLE' | translate }}</h3>
						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool" ng-click="controller.addActionModal()">
								<span><i class="fa fa-plus"></i> {{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.ADD' | translate }} </span>
							</button>
						</div>
					</div>
					<div class="box-body table-responsive">
						<table class="table table-hover table-striped nowrap" cellspacing="0" width="100%">
							<thead>
								<tr>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.ACTIONTYPE' | translate }}</th>
									<th></th>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.EMAILTEMPLATE' | translate }}</th>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.SMSTEMPLATE' | translate }}</th>
									<th>{{'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.NOTIFICATION_NAME' | translate}}</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="action in controller.model.actions">
									<td>{{ action.actionType }}</td>
									<td>
										<a ng-if="action.actionType === 'sendFullReportViaEmail' || action.actionType === 'sendReportStatsViaEmail'" ng-click="controller.reportRecipientAddModal(action.actionType)">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.MODIFYRECIPIENTS' | translate }}</a>
									</td>
									<td>
										<a ng-if="action.actionType != 'sendSMSToPlayer' && action.actionType != 'sendNotificationToPlayer'" ng-click="controller.reportActionEmailTemplateModal(action.actionType)">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.MODIFYEMAILTEMPLATE' | translate }}</a>
									</td>
									<td>
										<a ng-if="action.actionType === 'sendSMSToPlayer'" ng-click="controller.reportActionSMSTemplateModal(action.actionType)">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.MODIFYSMSTEMPLATE' | translate }}</a>
									</td>
									<td>
										<a ng-if="action.actionType === 'sendNotificationToPlayer'" ng-click="controller.reportActionNotificationNameModal(action.actionType)">{{'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.ACTION_EMAIL_TEMPLATE' | translate}}</a>
									</td>
									<td>
										<a ng-click="controller.removeAction(action)">
											<span class="pull-right badge bg-red"><i class="fa fa-times"></i></span>
										</a>
									</td>
								</tr>
								<tr ng-if="controller.model.actions.length === 0">
									<td colspan="4">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.ACTIONS.TABLE.NOACTIONSADDED' | translate }}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="box box-info">
					<div class="box-header with-border">
						<h3 class="box-title">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.TEMPLATES.PLACEHOLDERS.TITLE' | translate }}</h3>
					</div>
					<div class="box-body table-responsive">
						<table class="table table-hover table-striped nowrap" cellspacing="0" width="100%">
							<thead>
								<tr>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.HEADER.FIELD' | translate }}</th>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.HEADER.PLACEHOLDER' | translate }}</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.USERNAME' | translate }}</td>
									<td>%user.userName%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.EMAIL' | translate }}</td>
									<td>%user.emailAddress%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.FIRSTNAME' | translate }}</td>
									<td>%user.firstName%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.LASTNAME' | translate }}</td>
									<td>%user.lastName%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CREATEDDATE' | translate }}</td>
									<td>%user.createdDate%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DATEOFBIRTH' | translate }}</td>
									<td>%user.dateOfBirth%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CURRENTBALANCE' | translate }}</td>
									<td>%report.currentBalance%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CURRENTBALANCECASINOBONUS' | translate }}</td>
									<td>%report.currentBalanceCasinoBonus%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.OPENINGBALANCE' | translate }}</td>
									<td>%report.periodOpeningBalance%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CLOSINGBALANCE' | translate }}</td>
									<td>%report.periodClosingBalance%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.OPENINGBALANCECASINOBONUS' | translate }}</td>
									<td>%report.periodOpeningBalanceCasinoBonus%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CLOSINGBALANCECASINOBONUS' | translate }}</td>
									<td>%report.periodClosingBalanceCasinoBonus%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DEPOSITAMOUNT' | translate }}</td>
									<td>%report.depositAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DEPOSITCOUNT' | translate }}</td>
									<td>%report.depositCount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.PAYOUTAMOUNT' | translate }}</td>
									<td>%report.payoutAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.PAYOUTCOUNT' | translate }}</td>
									<td>%report.payoutCount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.BALANCEADJUSTAMOUNT' | translate }}</td>
									<td>%report.balanceAdjustAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.BALANCEADJUSTCOUNT' | translate }}</td>
									<td>%report.balanceAdjustCount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBETAMOUNT' | translate }}</td>
									<td>%report.casinoBetAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBETCOUNT' | translate }}</td>
									<td>%report.casinoBetCount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOWINAMOUNT' | translate }}</td>
									<td>%report.casinoWinAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOWINCOUNT' | translate }}</td>
									<td>%report.casinoWinCount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINONETAMOUNT' | translate }}</td>
									<td>%report.casinoNetAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSBETAMOUNT' | translate }}</td>
									<td>%report.casinoBonusBetAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSBETCOUNT' | translate }}</td>
									<td>%report.casinoBonusBetCount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSWINAMOUNT' | translate }}</td>
									<td>%report.casinoBonusWinAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSWINCOUNT' | translate }}</td>
									<td>%report.casinoBonusWinCount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSNETAMOUNT' | translate }}</td>
									<td>%report.casinoBonusNetAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSACTIVATEAMOUNT' | translate }}</td>
									<td>%report.casinoBonusActivateAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSTRANSFERTOBONUSAMOUNT' | translate }}</td>
									<td>%report.casinoBonusTransferToBonusAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSTRANSFERFROMBONUSAMOUNT' | translate }}</td>
									<td>%report.casinoBonusTransferFromBonusAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSCANCELAMOUNT' | translate }}</td>
									<td>%report.casinoBonusCancelAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSEXPIREAMOUNT' | translate }}</td>
									<td>%report.casinoBonusExpireAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.CASINOBONUSMAXPAYOUTEXCESSAMOUNT' | translate }}</td>
									<td>%report.casinoBonusMaxPayoutExcessAmount%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DOMAINNAME' | translate }}</td>
									<td>%domain.name%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DOMAINURL' | translate }}</td>
									<td>%domain.url%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DOMAINSUPPORTEMAIL' | translate }}</td>
									<td>%domain.supportEmail%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.OPTOUTEMAILURL' | translate }}</td>
									<td>%user.optOutEmailUrl%</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="box box-info">
					<div class="box-header with-border">
						<h3 class="box-title">{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.REPORT.TITLE' | translate }}</h3>
					</div>
					<div class="box-body table-responsive">
						<table class="table table-hover table-striped nowrap" cellspacing="0" width="100%">
							<thead>
								<tr>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.HEADER.FIELD' | translate }}</th>
									<th>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.HEADER.PLACEHOLDER' | translate }}</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.REPORT.NAME' | translate }}</td>
									<td>%report.name%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.REPORT.STARTEDON' | translate }}</td>
									<td>%report.startedOn%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.REPORT.COMPLETEDON' | translate }}</td>
									<td>%report.completedOn%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.REPORT.STARTEDBY' | translate }}</td>
									<td>%report.startedBy%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.REPORT.TOTALRECORDS' | translate }}</td>
									<td>%report.totalRecords%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.REPORT.PROCESSEDRECORDS' | translate }}</td>
									<td>%report.processedRecords%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DOMAINNAME' | translate }}</td>
									<td>%domain.name%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DOMAINURL' | translate }}</td>
									<td>%domain.url%</td>
								</tr>
								<tr>
									<td>{{ 'UI_NETWORK_ADMIN.REPORTS.PLAYERS.EMAILTEMPLATE.PLACEHOLDER.PLAYER.DOMAINSUPPORTEMAIL' | translate }}</td>
									<td>%domain.supportEmail%</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<buttonbar>
			<button-back ui-sref="^.report({ reportId: controller.report.id })"></button-back>
			<button-custom btype="submit" bclass="primary submit-button" icon="floppy-o" text="Commit all changes"></button-custom>
			<button-custom btype="button" ng-click="controller.onContinue()" bclass="default" icon="clock-o" text="Continue later with this edit"></button-custom>
			<button-custom btype="button" ng-click="controller.onCancel()" bclass="default" icon="ban" text="Cancel edit"></button-custom>
		</buttonbar>
	</form>
	<br/><br/>
</div>
