<div class="container-fluid">
	<lit-header
		title="UI_NETWORK_ADMIN.NOTIFICATIONS.ADD.TITLE" 
		description="UI_NETWORK_ADMIN.NOTIFICATIONS.ADD.DESCRIPTION">
	</lit-header>
	
	<form ng-submit="controller.onSubmit()" name="controller.form" novalidate>
		<buttonbar>
			<button-submit></button-submit>
			<button-back ui-sref="^.list"></button-back>
		</buttonbar>
		
		<br/><br/>
		
		<div class="row v-reset-row ">
			<div class="col-xs-6">
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">{{'UI_NETWORK_ADMIN.NOTIFICATIONS.BOXES.DETAILS'|translate}}</h3>
					</div>
					<div class="box-body">
						<formly-form model="controller.model" fields="controller.fields" options="controller.options" form="controller.form">
						</formly-form>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">{{'UI_NETWORK_ADMIN.NOTIFICATIONS.BOXES.CHANNELS'|translate}}</h3>
						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool" ng-click="controller.addChannel()">
								<span><i class="fa fa-plus"></i>{{'GLOBAL.ACTION.ADD'|translate}}</span>
							</button>
						</div>
					</div>
					<div class="box-body table-responsive">
						<table class="table table-hover table-striped nowrap" cellspacing="0" width="100%">
							<thead>
								<tr>
									<th>{{'UI_NETWORK_ADMIN.NOTIFICATIONS.FIELDS.CHANNEL.CHANNEL.NAME'|translate}}</th>
									<th>{{'UI_NETWORK_ADMIN.NOTIFICATIONS.FIELDS.CHANNEL.FORCED.NAME'|translate}}</th>
									<th>{{'UI_NETWORK_ADMIN.NOTIFICATIONS.FIELDS.CHANNEL.TEMPLATE.NAME'|translate}}</th>
									<th>{{'UI_NETWORK_ADMIN.NOTIFICATIONS.FIELDS.CHANNEL.TEMPLATELANG.NAME'|translate}}</th>
									<th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="channel in controller.model.channels">
									<td>{{channel.channel.name}}</td>
									<td>{{channel.forced}}</td>
									<td>{{channel.templateName}}</td>
									<td>{{channel.templateLang}}</td>
									<td>
										<a ng-click="controller.modifyChannel(channel)">
											<span class="badge bg-blue"><i class="fa fa-cog"></i></span>
										</a>
										&nbsp;
										<a ng-click="controller.removeChannel(channel)">
											<span class="badge bg-red"><i class="fa fa-times"></i></span>
										</a>
									</td>
								</tr>
								<tr ng-if="controller.model.channels.length === 0">
									<td colspan="5">No channels added yet.</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		
		<div class="row v-reset-row ">
			<div class="col-xs-12">
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">{{'UI_NETWORK_ADMIN.NOTIFICATIONS.INBOX.BOXES.MESSAGE'|translate}}</h3>
					</div>
					<div class="box-body">
						<formly-form model="controller.model" fields="controller.messageField" options="controller.options" form="controller.form">
						</formly-form>
					</div>
				</div>
			</div>
		</div>
		
<!-- 		<pre>{{controller.model|json}}</pre> -->
	</form>
</div>