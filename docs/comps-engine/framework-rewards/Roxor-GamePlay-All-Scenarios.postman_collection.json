{
	"info": {
		"_postman_id": "d3944669-5a80-4fc0-808a-226bf1703d82",
		"name": "Roxor GamePlay - All Scenarios",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "802619"
	},
	"item": [
		{
			"name": "rgp/game-play",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"tests[\"Status code is 200\"] = responseCode.code === 200;",
							"",
							"tests[\"Response time is less than 200ms\"] = responseTime < 200;"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// var body = {\"playerId\":\"523323\",\"website\":\"livescorebet\",\"gameKey\":\"play-mighty-hot-wilds\",\"gamePlayId\":\"4049-523323-34159aee1\",\"operations\":[// {\"operationType\":\"FINISH_GAME_PLAY\"}]}",
							"var uuid = require('uuid');",
							"",
							"var gameplayid = pm.variables.replaceIn('{{$randomUUID}}');",
							"pm.environment.set(\"gameplayid\", gameplayid);",
							"",
							"let gamePlayType = pm.collectionVariables.get(\"game-play-type\");",
							"",
							"gamePlayType = \"1\";",
							"",
							"/**",
							" * 1    -  Bet + Win (Normal Game)",
							" * 1.1  -  Bet + Bet Cancel (Normal Game)",
							" * 1.2  -  Bet + Win + Win Cancel (Normal Game)",
							" * 2    -  Bet + Loss (Normal Game)",
							" * ",
							" * 3    -  Bet + Win (FREE Game)",
							" * 3.1  -  Bet + Bet Cancel (FREE Game)",
							" * 3.2  -  Bet + Win + Win Cancel (FREE Game)",
							" * 4    -  Bet + Loss (FREE Game)",
							" * ",
							" * 5    -  Bet + Win + Jackpot Credit (Normal Game)",
							" * 5.1  -  Bet + Win + Jackpot Credit + Jackpot Credit Cancel (Normal Game)",
							" * ",
							" * 6.1  -  Freespin (Normal Game) BET + Win ",
							" * 6.2  -  Freespin (FREE Game) BET + Win ",
							" * 6.3  -  Freespin (Normal Game) BET + Win + Bet Cancel",
							" * 6.4  -  Freespin (FREE Game) BET + Win + Bet Cancel",
							" * ",
							" * 7.1  -  Freespin (Normal Game) BET + Loss",
							" * 7.2  -  Freespin (FREE Game) BET + Loss",
							" * ",
							" * 8.1  -  Reward (Normal Game) Bet + Win (svc-rewards) (freespin)",
							" * 8.2  -  Reward (Normal Game) Bet + Win (svc-rewards) (instant reward)",
							" * 8.3  -  Reward (Normal Game) Bet + Bet Cancel (svc-rewards) (freespin)",
							" * 8.4  -  Reward (Normal Game) Bet + Win + Win Cancel (svc-rewards) (freespin)",
							" * ",
							" * 9.1  -  Reward (Normal Game) Bet + Loss (svc-rewards) (freespin)",
							" * 9.2  -  Reward (Normal Game) Bet + Loss (svc-rewards) (instant reward)",
							" * ",
							" * 10   -  Bonus (Normal Game) Bet + Win (svc-casino - old bonus)",
							" * 11   -  Bonus (Normal Game) Bet + Loss (svc-casino - old bonus)",
							" */",
							"",
							"let operations = [];",
							"let sourceId = uuid.v4();",
							"let gameKey = \"play-banghai\";",
							"",
							"let transferDebitId = uuid.v4();",
							"let transferDebitAmount = _.random(1000, 10000);",
							"",
							"let transferCreditId = uuid.v4();",
							"let transferCreditAmount = _.random(1000, 10000);",
							"",
							"let transferJackpotCreditId = uuid.v4();",
							"let transferJackpotCreditAmount = _.random(1000, 10000);",
							"",
							"let freeplayId = uuid.v4();",
							"let freeplayAmount = _.random(1000, 10000);",
							"",
							"let freeplayDFGId = uuid.v4();",
							"let freeplayDFGAmount = _.random(1000, 10000);",
							"",
							"let startGame = {\"operationType\":\"START_GAME_PLAY\"};",
							"let endGame = {\"operationType\":\"FINISH_GAME_PLAY\"};",
							"",
							"let transferDebit = {",
							"        \"operationType\":\"TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":transferDebitAmount},",
							"        \"transferId\":transferDebitId,",
							"        \"type\":\"DEBIT\"",
							"};",
							"let transferCredit = {\"operationType\":\"TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":transferCreditAmount},\"transferId\":transferCreditId,\"type\":\"CREDIT\"};",
							"",
							"let transferJackpotCredit = {\"operationType\":\"TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":transferJackpotCreditAmount},\"transferId\":transferJackpotCreditId,\"type\":\"JACKPOT_CREDIT\"};",
							"",
							"let transferDebitCancel = {",
							"        \"operationType\":\"CANCEL_TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":transferDebitAmount},",
							"        \"transferId\":transferDebitId,",
							"        \"type\":\"DEBIT\"",
							"};",
							"let transferCreditCancel = {\"operationType\":\"CANCEL_TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":transferCreditAmount},\"transferId\":transferCreditId,\"type\":\"CREDIT\"};",
							"",
							"let transferJackpotCreditCancel = {\"operationType\":\"CANCEL_TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":transferJackpotCreditAmount},\"transferId\":transferJackpotCreditId,\"type\":\"JACKPOT_CREDIT\"};",
							"",
							"let freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"let freePlayCancel = {\"operationType\":\"CANCEL_FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"",
							"let freePlayDFG = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayDFGAmount},\"transferId\":freeplayDFGId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"DFG\"}};",
							"let freePlayDFGCancel = {\"operationType\":\"CANCEL_FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayDFGAmount},\"transferId\":freeplayDFGId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"DFG\"}};",
							"",
							"switch (gamePlayType) {",
							"    case \"1\":",
							"        operations = [startGame, transferDebit, transferCredit, endGame];",
							"        break;",
							"    case \"1.1\":",
							"        operations = [startGame, transferDebit, transferDebitCancel, endGame];",
							"        break;",
							"    case \"1.2\":",
							"        operations = [startGame, transferDebit, transferCredit, transferCreditCancel, endGame];",
							"        break;",
							"    case \"2\":",
							"        operations = [startGame, transferDebit, endGame];",
							"        break;",
							"    case \"3\":",
							"        gameKey = \"play-secrets-of-the-phoenix\";",
							"        operations = [startGame, transferDebit, transferCredit, endGame];",
							"        break;",
							"    case \"3.1\":",
							"        gameKey = \"play-secrets-of-the-phoenix\";",
							"        operations = [startGame, transferDebit, transferDebitCancel, endGame];",
							"        break;",
							"    case \"3.2\":",
							"        gameKey = \"play-secrets-of-the-phoenix\";",
							"        operations = [startGame, transferDebit, transferCredit, transferCreditCancel, endGame];",
							"        break;",
							"    case \"4\":",
							"        gameKey = \"play-secrets-of-the-phoenix\";",
							"        operations = [startGame, transferDebit, endGame];",
							"        break;",
							"    case \"5\":",
							"        operations = [startGame, transferDebit, transferCredit, transferJackpotCredit, endGame];",
							"        break;",
							"    case \"5.1\":",
							"        operations = [startGame, transferDebit, transferCredit, transferJackpotCredit, transferJackpotCreditCancel, endGame];",
							"        break;",
							"    case \"6.1\":",
							"        operations = [startGame, freePlay, transferCredit, endGame];",
							"        break;",
							"    case \"6.2\":",
							"        gameKey = \"play-secrets-of-the-phoenix\";",
							"        // freePlayDFG = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":_.random(1000, 10000)},\"transferId\":uuid.v4(),\"source\":{\"sourceId\":sourceId, \"sourceType\": \"DFG\"}};",
							"        operations = [startGame, freePlayDFG, transferCredit, endGame];",
							"        break;",
							"    case \"6.3\":",
							"        operations = [startGame, freePlay, freePlayCancel, transferCredit, endGame];",
							"        break;",
							"    case \"6.4\":",
							"        gameKey = \"play-secrets-of-the-phoenix\";",
							"        // freePlayDFG = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":_.random(1000, 10000)},\"transferId\":uuid.v4(),\"source\":{\"sourceId\":sourceId, \"sourceType\": \"DFG\"}};",
							"        operations = [startGame, freePlayDFG, freePlayDFGCancel, transferCredit, endGame];",
							"        break;",
							"    case \"7.1\":",
							"        operations = [startGame, freePlay, endGame];",
							"        break;",
							"    case \"7.2\":",
							"        gameKey = \"play-secrets-of-the-phoenix\";",
							"        freePlayDFG = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":_.random(1000, 10000)},\"transferId\":uuid.v4(),\"source\":{\"sourceId\":sourceId, \"sourceType\": \"DFG\"}};",
							"        operations = [startGame, freePlayDFG, endGame];",
							"        break;",
							"    case \"8.1\":",
							"        sourceId = \"ea5d2f1c-4608-332e-87d3-aa3d998e5135\"; // free spin",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, transferCredit, endGame];",
							"        break;",
							"    case \"8.2\":",
							"        sourceId = \"fc490ca4-5c00-3124-9bbe-3554a4fdf6fb\"; //instant reward",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, transferCredit, endGame];",
							"        break;",
							"    case \"8.3\":",
							"        sourceId = \"ea5d2f1c-4608-332e-87d3-aa3d998e5135\"; // free spin",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        freePlayCancel = {\"operationType\":\"CANCEL_FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, freePlayCancel];",
							"        break;",
							"    case \"8.4\":",
							"        sourceId = \"ea5d2f1c-4608-332e-87d3-aa3d998e5135\"; // free spin",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        freePlayCancel = {\"operationType\":\"CANCEL_FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":freeplayAmount},\"transferId\":freeplayId,\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, transferCredit, transferCreditCancel];",
							"        break;",
							"    case \"9.1\":",
							"        sourceId = \"ea5d2f1c-4608-332e-87d3-aa3d998e5135\"; // free spin",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":_.random(1000, 10000)},\"transferId\":uuid.v4(),\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, endGame];",
							"        break;",
							"    case \"9.2\":",
							"        sourceId = \"fc490ca4-5c00-3124-9bbe-3554a4fdf6fb\"; // instant reward",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":_.random(1000, 10000)},\"transferId\":uuid.v4(),\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, endGame];",
							"        break;",
							"    case \"10\":",
							"        sourceId = \"e7cbcff4-bf38-4db7-afc2-ce2b872d06d5\";",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":_.random(1000, 10000)},\"transferId\":uuid.v4(),\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, transferCredit, endGame];",
							"        break;",
							"    case \"11\":",
							"        sourceId = \"e7cbcff4-bf38-4db7-afc2-ce2b872d06d5\";",
							"        freePlay = {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":_.random(1000, 10000)},\"transferId\":uuid.v4(),\"source\":{\"sourceId\":sourceId, \"sourceType\": \"\"}};",
							"        operations = [startGame, freePlay, endGame];",
							"        break;",
							"        break;",
							"    default:",
							"        operations = [startGame, endGame];",
							"        break;",
							"}",
							"",
							"// let body = {\"playerId\":\"27cb968a-13fb-4ea0-9ecc-bbfb22c8b583\",\"website\":\"livescore_uk\",\"gameKey\":gameKey,\"gamePlayId\":gameplayid,\"operations\":operations};",
							"let body = {\"playerId\":\"7cac68a1-c731-4c3b-98ea-485914b824ef\",\"website\":\"livescore_uk\",\"gameKey\":gameKey,\"gamePlayId\":gameplayid,\"operations\":operations};",
							"",
							"",
							"",
							"let bodyStr = JSON.stringify(body);",
							"console.log(\"body: \"+bodyStr);",
							"// var body = {\"playerId\":\"27cb968a-13fb-4ea0-9ecc-bbfb22c8b583\",\"website\":\"livescore_uk\",\"gameKey\":\"play-banghai\",\"gamePlayId\":\"{{gameplayid}}\",\"operations\":[{\"operationType\":\"START_GAME_PLAY\"},",
							"//     {",
							"//         \"operationType\":\"TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":9000},",
							"//         \"transferId\":\"91f40a8d-b56f-4304-a6ec-0023a50cbd00\",",
							"//         \"type\":\"DEBIT\"",
							"//         // \"source\": {",
							"//         //     \"sourceId\": \"48\",",
							"//         //     \"sourceType\": \"DFG\"",
							"//         // }",
							"//     },",
							"//     {\"operationType\":\"TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":4500},\"transferId\":\"fe66c46f-cdff-4fa4-a733-d0cbca7a9608\",\"type\":\"CREDIT\"},",
							"//     {\"operationType\":\"FINISH_GAME_PLAY\"}",
							"// ]}",
							"",
							"// var body = {",
							"//   \"playerId\" : \"8cac68a1-c731-4c3b-98ea-485914b8431\",",
							"//   \"website\" : \"livescore_uk\",",
							"//   \"platform\" : \"desktop\",",
							"//   \"gameKey\" : \"play-banghai\",",
							"//   \"gamePlayId\" : \"game-play-1-001\",",
							"//   \"operations\" : [",
							"//     {\"operationType\":\"START_GAME_PLAY\"},",
							"//     {\"operationType\":\"TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":1000},\"type\":\"DEBIT\",\"transferId\":\"f64f63c1-f8e0-49ff-9e0e-game-play-1-001\"},",
							"//     // {\"operationType\":\"FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":1285},\"transferId\":\"044d9414-500b-447b-87f3-game-play-1-001\",",
							"//     //     \"source\": {",
							"//     //         \"sourceId\": \"play-banghai\",",
							"//     //         \"sourceType\": \"DFG\"",
							"//     //         // \"sourceId\": \"efe78826-0969-4155-ab1f-7878e277aabf\",",
							"//     //         // \"sourceType\": \"efe78826-0969-4155-ab1f-7878e277aabf\"",
							"//     //     }",
							"//     // },",
							"//     {\"operationType\":\"TRANSFER\",\"amount\":{\"currency\":\"GBP\",\"amount\":1850},\"type\":\"CREDIT\",\"transferId\":\"044d9414-500b-447b-87f3-game-play-1-001\"},",
							"//     // {\"operationType\":\"CANCEL_FREE_PLAY\",\"amount\":{\"currency\":\"GBP\",\"amount\":185},\"transferId\":\"044d9414-500b-447b-87f3-game-play-1-001\",",
							"//     //     \"source\": {",
							"//     //         \"sourceId\": \"09ceb742-3a7e-47f1-a750-af68273ed14e\",",
							"//     //         \"sourceType\": \"09ceb742-3a7e-47f1-a750-af68273ed14e\"",
							"//     //     }",
							"//     // },",
							"//     {\"operationType\":\"FINISH_GAME_PLAY\"}",
							"//   ]",
							"// }",
							"pm.environment.set(\"body\", bodyStr);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "SessionKey",
						"type": "text",
						"value": "{{session-key}}"
					},
					{
						"key": "GameplayId",
						"value": "{{gameplayid}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{{body}}"
				},
				"url": {
					"raw": "{{gateway}}/service-casino-provider-roxor/rgp/game-play",
					"host": [
						"{{gateway}}"
					],
					"path": [
						"service-casino-provider-roxor",
						"rgp",
						"game-play"
					]
				}
			},
			"response": []
		}
	]
}